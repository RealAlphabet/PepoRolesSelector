var RolesSelector=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=t(e);function l(e){return`rgb(${e>>16&255}, ${e>>8&255}, ${255&e})`}class r extends s.default.Component{constructor(e){super(e),this.input=s.default.createRef(),this.state={selected:new Set,search:""}}onFocus(){this.input.current.focus()}onType({target:e}){this.setState({search:e.innerText.toLowerCase()})}onSelect(e){this.state.selected.has(e)?this.state.selected.delete(e):this.state.selected.add(e),this.props.onSelect(this.state.selected,e),this.input.current.focus(),this.forceUpdate()}render(){let e=this.props.roles.filter((e=>0==this.state.selected.has(e.id)&&e.name.toLowerCase().includes(this.state.search))),t=this.props.roles.filter((e=>this.state.selected.has(e.id)));return s.default.createElement("div",{className:"role-selector"},s.default.createElement("div",{className:"role-selector-base",onClick:this.onFocus.bind(this)},t.map((({id:e,name:t,color:r},a)=>(r=l(r),s.default.createElement("div",{className:"role-selector-inline",style:{borderColor:r},onClick:this.onSelect.bind(this,e),key:a},s.default.createElement("div",{className:"role-selector-circle",style:{backgroundColor:r}}),s.default.createElement("span",null,t))))),s.default.createElement("div",{className:"role-selector-input",contentEditable:"true",onInput:this.onType.bind(this),ref:this.input})),s.default.createElement("div",{className:"role-selector-list"},e.map((({id:e,name:t,color:r},a)=>(r=l(r),s.default.createElement("div",{className:"role-selector-role",onClick:this.onSelect.bind(this,e),key:a},s.default.createElement("div",{className:"role-selector-circle",style:{backgroundColor:r}})," ",t))))))}}return r}(React);
