var RolesSelector=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=t(e);function r(e){return`rgb(${e>>16&255}, ${e>>8&255}, ${255&e})`}return function(e){const t=l.default.createRef(),[a]=l.default.useState(new Set),[c,o]=l.default.useState(""),[,n]=l.default.useState(),s=l=>{a.has(l)?a.delete(l):a.add(l),n({}),e.onSelect(a,l),t.current.focus()},u=e.roles.filter((e=>a.has(e.id))),d=c.length?e.roles.filter((e=>!a.has(e.id)&&e.name.toLowerCase().includes(c))):[];return l.default.createElement("div",{className:"role-selector"},l.default.createElement("div",{className:"role-selector-base",onClick:()=>{t.current.focus()}},u.map((({id:e,name:t,color:a},c)=>(a=r(a),l.default.createElement("div",{className:"role-selector-inline",style:{borderColor:a},onClick:()=>s(e),key:c},l.default.createElement("div",{className:"role-selector-circle",style:{backgroundColor:a}}),l.default.createElement("span",null,t))))),l.default.createElement("div",{className:"role-selector-input",contentEditable:"true",onInput:()=>{o(t.current.innerText.toLowerCase())},onKeyDown:({key:e})=>{"Backspace"!=e||t.current.innerText.length||(a.delete([...a].pop()),n({}))},ref:t})),l.default.createElement("div",{className:"role-selector-list"},d.map((({id:e,name:t,color:a},c)=>(a=r(a),l.default.createElement("div",{className:"role-selector-role",onClick:()=>s(e),key:c},l.default.createElement("div",{className:"role-selector-circle",style:{backgroundColor:a}})," ",t))))))}}(React);
